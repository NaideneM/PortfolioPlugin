<div class="assignsubmission-portfolio">

  <h3>{{#str}}previewheading, assignsubmission_portfolio{{/str}}</h3>

  {{#previewurl}}
    <div class="portfolio-preview" style="margin-bottom: 1rem;">
      <iframe
        src="{{previewurl}}"
        title="{{#str}}previewheading, assignsubmission_portfolio{{/str}}"
        width="100%"
        height="900"
        style="border: 1px solid #ccc; border-radius: 6px;"
        loading="lazy">
      </iframe>
    </div>
  {{/previewurl}}

  {{^previewurl}}
    <div class="alert alert-warning">
      {{#str}}cannotpreview, assignsubmission_portfolio{{/str}}
    </div>
  {{/previewurl}}

  <h4>{{#str}}modulestatusheading, assignsubmission_portfolio{{/str}}</h4>

  <ul class="list-unstyled mb-3">
    {{#modules}}
      <li>
        <strong>Module {{number}}</strong>:
        {{#completed}}
          <span class="badge bg-success">Completed</span>
        {{/completed}}
        {{^completed}}
          <span class="badge bg-secondary">Incomplete</span>
        {{/completed}}
      </li>
    {{/modules}}
  </ul>

  {{^allcomplete}}
    <div class="alert alert-info">
      {{#str}}missingmodules, assignsubmission_portfolio{{/str}}
    </div>
  {{/allcomplete}}

  <hr>

  <div class="portfolio-integrity my-3">
    <h4>{{#str}}integritylabel, assignsubmission_portfolio{{/str}}</h4>

    <label class="d-flex gap-2 align-items-start">
      <input
        type="checkbox"
        name="integrity_check"
        id="portfolio-integrity-check"
        {{^integritycheckenabled}}disabled{{/integritycheckenabled}}>
      <span>{{#str}}integritycheck, assignsubmission_portfolio{{/str}}</span>
    </label>
  </div>

  <div class="portfolio-actions mt-3">
    <button
      type="submit"
      name="portfolio_submit"
      value="1"
      class="btn btn-primary"
      {{^submitenabled}}disabled{{/submitenabled}}>
      {{#issubmit}}{{#str}}submitportfolio, assignsubmission_portfolio{{/str}}{{/issubmit}}
      {{#isresubmit}}{{#str}}resubmitportfolio, assignsubmission_portfolio{{/str}}{{/isresubmit}}
    </button>
  </div>

</div>
